<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>СБОРКА Matching Engine — Roadmap V2</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&family=JetBrains+Mono:wght@400;500;600;700&display=swap" rel="stylesheet">
<style>
:root {
  --emerald-900: #064e3b; --emerald-700: #047857; --emerald-600: #059669;
  --emerald-500: #10b981; --emerald-400: #34d399; --emerald-100: #d1fae5;
  --amber-900: #78350f; --amber-700: #b45309; --amber-600: #d97706;
  --amber-500: #f59e0b; --amber-400: #fbbf24; --amber-200: #fde68a; --amber-100: #fef3c7;
  --rose-600: #e11d48; --rose-500: #f43f5e; --rose-100: #ffe4e6;
  --violet-600: #7c3aed; --violet-500: #8b5cf6; --violet-100: #ede9fe;
  --blue-600: #2563eb; --blue-100: #dbeafe;
  --warm-white: #fdf8f0; --stone-900: #1c1917; --stone-800: #292524;
  --stone-700: #44403c; --stone-600: #57534e; --stone-500: #78716c;
  --stone-400: #a8a29e; --stone-300: #d6d3d1; --stone-200: #e7e5e4; --stone-100: #f5f5f4;
}
* { margin: 0; padding: 0; box-sizing: border-box; }
body { font-family: 'Inter', -apple-system, sans-serif; background: var(--warm-white); color: var(--stone-800); line-height: 1.6; -webkit-font-smoothing: antialiased; }
.mono { font-family: 'JetBrains Mono', monospace; }

nav { position: sticky; top: 0; z-index: 100; background: rgba(253,248,240,0.85); backdrop-filter: blur(20px); border-bottom: 1px solid var(--stone-200); padding: 0.75rem 2rem; }
nav .inner { max-width: 1200px; margin: 0 auto; display: flex; align-items: center; justify-content: space-between; flex-wrap: wrap; gap: 0.5rem; }
nav .logo { font-weight: 800; font-size: 1.1rem; color: var(--emerald-900); text-decoration: none; letter-spacing: -0.03em; }
nav .logo span { color: var(--amber-600); }
nav .links { display: flex; gap: 0.25rem; flex-wrap: wrap; }
nav .links a { padding: 0.4rem 0.9rem; border-radius: 8px; text-decoration: none; font-size: 0.85rem; font-weight: 500; color: var(--stone-600); transition: all 0.2s; }
nav .links a:hover { background: var(--emerald-100); color: var(--emerald-700); }
nav .links a.active { background: var(--violet-600); color: white; }

.hero { max-width: 1200px; margin: 0 auto; padding: 4rem 2rem 3rem; }
.hero .badge { display: inline-block; background: linear-gradient(135deg, var(--violet-600), var(--emerald-600)); color: white; padding: 0.35rem 1rem; border-radius: 100px; font-size: 0.75rem; font-weight: 600; letter-spacing: 0.05em; text-transform: uppercase; margin-bottom: 1.5rem; }
.hero h1 { font-size: clamp(2.2rem, 5vw, 3.8rem); font-weight: 900; line-height: 1.1; letter-spacing: -0.03em; color: var(--stone-900); margin-bottom: 1rem; }
.hero h1 em { font-style: normal; background: linear-gradient(135deg, var(--violet-600), var(--emerald-600)); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; }
.hero .subtitle { font-size: 1.15rem; color: var(--stone-600); max-width: 750px; line-height: 1.7; }

section { max-width: 1200px; margin: 0 auto; padding: 3rem 2rem; }
.sl { display: inline-block; font-family: 'JetBrains Mono', monospace; font-size: 0.7rem; font-weight: 600; letter-spacing: 0.1em; text-transform: uppercase; padding: 0.25rem 0.75rem; border-radius: 4px; margin-bottom: 1rem; }
.sl.v { color: var(--violet-600); background: var(--violet-100); }
.sl.e { color: var(--emerald-600); background: var(--emerald-100); }
.sl.a { color: var(--amber-600); background: var(--amber-100); }
.sl.r { color: var(--rose-600); background: var(--rose-100); }
.sl.b { color: var(--blue-600); background: var(--blue-100); }
section h2 { font-size: 1.8rem; font-weight: 800; letter-spacing: -0.02em; color: var(--stone-900); margin-bottom: 0.75rem; }
section > p { font-size: 1.05rem; color: var(--stone-600); max-width: 800px; margin-bottom: 2rem; line-height: 1.7; }

.grid-2 { display: grid; grid-template-columns: repeat(auto-fit, minmax(320px, 1fr)); gap: 1.5rem; }
.grid-3 { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 1.25rem; }
.grid-4 { display: grid; grid-template-columns: repeat(auto-fit, minmax(240px, 1fr)); gap: 1rem; }

.card { background: white; border: 1px solid var(--stone-200); border-radius: 16px; padding: 1.75rem; transition: all 0.3s; }
.card:hover { border-color: var(--emerald-400); box-shadow: 0 8px 30px rgba(5,150,105,0.08); transform: translateY(-2px); }
.card h4 { font-size: 1.05rem; font-weight: 700; color: var(--stone-900); margin-bottom: 0.5rem; }
.card p { font-size: 0.9rem; color: var(--stone-600); line-height: 1.6; }

.table-wrapper { overflow-x: auto; border-radius: 12px; border: 1px solid var(--stone-200); margin: 1.5rem 0; }
table { width: 100%; border-collapse: collapse; font-size: 0.88rem; }
thead { background: var(--stone-900); color: white; }
th { padding: 0.75rem 1rem; text-align: left; font-weight: 600; font-size: 0.78rem; text-transform: uppercase; letter-spacing: 0.05em; }
td { padding: 0.75rem 1rem; border-bottom: 1px solid var(--stone-100); }
tr:hover { background: var(--stone-100); }
.tag { display: inline-block; padding: 0.15rem 0.55rem; border-radius: 6px; font-size: 0.72rem; font-weight: 600; }
.tag.g { background: var(--emerald-100); color: var(--emerald-700); }
.tag.a { background: var(--amber-100); color: var(--amber-700); }
.tag.r { background: var(--rose-100); color: var(--rose-600); }
.tag.b { background: var(--blue-100); color: var(--blue-600); }
.tag.v { background: var(--violet-100); color: var(--violet-600); }

.insight { background: linear-gradient(135deg, var(--stone-900), var(--emerald-900)); border-radius: 16px; padding: 2rem; margin: 2rem 0; position: relative; overflow: hidden; }
.insight::before { content: ''; position: absolute; top: -50%; right: -20%; width: 300px; height: 300px; background: radial-gradient(circle, rgba(251,191,36,0.15) 0%, transparent 70%); pointer-events: none; }
.insight h3 { color: var(--amber-400); font-size: 0.85rem; font-weight: 700; text-transform: uppercase; letter-spacing: 0.08em; margin-bottom: 0.75rem; }
.insight p { color: rgba(255,255,255,0.9); font-size: 1.05rem; line-height: 1.7; position: relative; }
.insight strong { color: white; }

/* SPRINT CARDS */
.sprint { background: white; border: 1px solid var(--stone-200); border-radius: 16px; padding: 0; margin-bottom: 1.5rem; overflow: hidden; }
.sprint-header { padding: 1.25rem 1.75rem; display: flex; align-items: center; justify-content: space-between; cursor: pointer; }
.sprint-header:hover { background: var(--stone-100); }
.sprint-num { font-family: 'JetBrains Mono', monospace; font-size: 0.75rem; font-weight: 700; letter-spacing: 0.05em; text-transform: uppercase; }
.sprint-title { font-size: 1.1rem; font-weight: 700; }
.sprint-meta { display: flex; gap: 1rem; font-size: 0.8rem; color: var(--stone-500); }
.sprint-body { padding: 0 1.75rem 1.75rem; border-top: 1px solid var(--stone-100); }
.sprint-body.collapsed { display: none; }
.sprint.s1 .sprint-header { border-left: 5px solid var(--emerald-500); }
.sprint.s2 .sprint-header { border-left: 5px solid var(--amber-500); }
.sprint.s3 .sprint-header { border-left: 5px solid var(--violet-500); }
.sprint.s4 .sprint-header { border-left: 5px solid var(--blue-600); }
.sprint.s5 .sprint-header { border-left: 5px solid var(--rose-500); }

.task-list { list-style: none; padding: 0; margin: 1rem 0; }
.task-list li { padding: 0.5rem 0; padding-left: 1.75rem; position: relative; font-size: 0.88rem; border-bottom: 1px solid var(--stone-100); }
.task-list li:last-child { border-bottom: none; }
.task-list li::before { content: ''; position: absolute; left: 0; top: 0.7rem; width: 14px; height: 14px; border: 2px solid var(--stone-300); border-radius: 3px; }
.task-list li .time { font-family: 'JetBrains Mono', monospace; font-size: 0.72rem; color: var(--stone-400); margin-left: 0.5rem; }
.task-list li .file { font-family: 'JetBrains Mono', monospace; font-size: 0.72rem; color: var(--violet-600); background: var(--violet-100); padding: 0.1rem 0.4rem; border-radius: 4px; margin-left: 0.35rem; }

.code-block { background: var(--stone-900); color: #e2e8f0; padding: 1.25rem; border-radius: 10px; font-family: 'JetBrains Mono', monospace; font-size: 0.78rem; line-height: 1.7; overflow-x: auto; margin: 1rem 0; }
.code-block .comment { color: #86efac; }
.code-block .keyword { color: #fbbf24; }
.code-block .string { color: #f9a8d4; }

.deliverable { background: var(--emerald-100); border-radius: 10px; padding: 1rem 1.25rem; margin: 1rem 0; }
.deliverable h5 { font-size: 0.85rem; font-weight: 700; color: var(--emerald-900); margin-bottom: 0.35rem; }
.deliverable p { font-size: 0.82rem; color: var(--emerald-700); }

.revenue-box { background: var(--amber-100); border-radius: 10px; padding: 1rem 1.25rem; margin: 1rem 0; }
.revenue-box h5 { font-size: 0.85rem; font-weight: 700; color: var(--amber-900); margin-bottom: 0.35rem; }
.revenue-box p { font-size: 0.82rem; color: var(--amber-700); }

/* INVENTORY */
.inv-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap: 0.75rem; margin: 1.5rem 0; }
.inv-item { background: white; border: 1px solid var(--stone-200); border-radius: 10px; padding: 1rem; text-align: center; }
.inv-item .val { font-family: 'JetBrains Mono', monospace; font-size: 1.4rem; font-weight: 700; }
.inv-item .val.e { color: var(--emerald-600); }
.inv-item .val.a { color: var(--amber-600); }
.inv-item .val.v { color: var(--violet-600); }
.inv-item .lbl { font-size: 0.75rem; color: var(--stone-500); margin-top: 0.15rem; }

/* TIMELINE */
.timeline { position: relative; padding-left: 2rem; margin: 1.5rem 0; }
.timeline::before { content: ''; position: absolute; left: 8px; top: 0; bottom: 0; width: 2px; background: linear-gradient(180deg, var(--emerald-400), var(--amber-400), var(--violet-500), var(--rose-500)); }
.tl-item { position: relative; padding: 0.75rem 0 1.5rem; }
.tl-dot { position: absolute; left: -2rem; top: 0.85rem; width: 18px; height: 18px; border-radius: 50%; border: 3px solid; background: white; }
.tl-dot.e { border-color: var(--emerald-500); }
.tl-dot.a { border-color: var(--amber-500); }
.tl-dot.v { border-color: var(--violet-500); }
.tl-dot.r { border-color: var(--rose-500); }
.tl-label { font-family: 'JetBrains Mono', monospace; font-size: 0.7rem; font-weight: 600; text-transform: uppercase; letter-spacing: 0.1em; margin-bottom: 0.25rem; }
.tl-title { font-size: 1rem; font-weight: 700; margin-bottom: 0.2rem; }
.tl-desc { font-size: 0.85rem; color: var(--stone-600); }

footer { max-width: 1200px; margin: 0 auto; padding: 3rem 2rem; display: flex; justify-content: space-between; flex-wrap: wrap; gap: 1rem; color: var(--stone-500); font-size: 0.85rem; border-top: 1px solid var(--stone-200); }

@media (max-width: 768px) {
  .hero { padding: 2.5rem 1.25rem 2rem; }
  section { padding: 2rem 1.25rem; }
  nav { padding: 0.75rem 1rem; }
  .sprint-header { flex-direction: column; align-items: flex-start; gap: 0.5rem; }
}
</style>
</head>
<body>

<nav>
  <div class="inner">
    <a href="index.html" class="logo">СБОРКА<span>.</span>research</a>
    <div class="links">
      <a href="index.html">Ландшафт рынка</a>
      <a href="architecture.html">Архитектура</a>
      <a href="growth.html">Стратегия роста</a>
      <a href="review.html">Ревью и модель</a>
      <a href="roadmap-v2.html" class="active">Roadmap V2</a>
    </div>
  </div>
</nav>

<div class="hero">
  <div class="badge">Roadmap V2 &bull; Февраль 2026</div>
  <h1>От кода к деньгам<br>за <em>5 спринтов</em></h1>
  <p class="subtitle">Конкретный план: что кодим в каждом спринте, какие файлы трогаем, что деливерим, когда начинаем зарабатывать. Отправная точка для всех будущих ТЗ и спецификаций.</p>
</div>

<!-- SECTION 1: EXISTING ASSETS -->
<section>
  <span class="sl e">01 / Что у нас есть</span>
  <h2>Инвентаризация платформы</h2>
  <p>Прежде чем писать код — зафиксируем, что уже работает. СБОРКА не стартует с нуля: у нас production-ready инфраструктура с 878 тестами.</p>

  <div class="inv-grid">
    <div class="inv-item"><div class="val e">878</div><div class="lbl">Тестов в боте</div></div>
    <div class="inv-item"><div class="val a">150</div><div class="lbl">SEO-статей</div></div>
    <div class="inv-item"><div class="val v">5</div><div class="lbl">MCP-тулов</div></div>
    <div class="inv-item"><div class="val e">20+</div><div class="lbl">Таблиц в PostgreSQL</div></div>
    <div class="inv-item"><div class="val a">10</div><div class="lbl">Ролей в HH-кэше</div></div>
    <div class="inv-item"><div class="val v">3</div><div class="lbl">Тарифа (4.9K-15.9K)</div></div>
  </div>

  <div class="table-wrapper">
    <table>
      <thead><tr><th>Компонент</th><th>Стек</th><th>Статус</th><th>Переиспользуем</th></tr></thead>
      <tbody>
        <tr><td><strong>sborka-career-bot</strong></td><td>Python, FastAPI, Aiogram 3, PostgreSQL</td><td><span class="tag g">LIVE</span></td><td>Хэндлеры, модели, buddy-matching, оплата</td></tr>
        <tr><td><strong>sborka.work</strong></td><td>React 18, Vite, TypeScript, Tailwind v4</td><td><span class="tag g">LIVE</span></td><td>150 статей, Schema.org, sitemap, llms.txt</td></tr>
        <tr><td><strong>sborka-career-mcp</strong></td><td>FastMCP 3.0, Python, HH.ru API</td><td><span class="tag a">PyPI</span></td><td>salary_data, market_trends, resume_review</td></tr>
        <tr><td><strong>Telegram Mini App v2</strong></td><td>React 19, TypeScript, Vite</td><td><span class="tag a">Built</span></td><td>Dashboard, leaderboard, activity feed шаблоны</td></tr>
        <tr><td><strong>Buddy Matching</strong></td><td>Python (gamification/buddy.py)</td><td><span class="tag g">LIVE</span></td><td><strong>Алгоритм паринга — основа для job matching!</strong></td></tr>
        <tr><td><strong>Tribute Payments</strong></td><td>Webhook + idempotency table</td><td><span class="tag g">LIVE</span></td><td>Гейтинг фич по тарифу — используем as-is</td></tr>
        <tr><td><strong>HH.ru кэш</strong></td><td>JSON, 10 ролей × 4 грейда × 4 города</td><td><span class="tag g">LIVE</span></td><td>Зарплаты, навыки, работодатели</td></tr>
        <tr><td><strong>Admin CRM</strong></td><td>FastAPI, порт 8686</td><td><span class="tag g">LIVE</span></td><td>Управление пользователями, рассылки</td></tr>
      </tbody>
    </table>
  </div>

  <div class="insight">
    <h3>Ключевой инсайт</h3>
    <p>У нас уже есть <strong>buddy-matching алгоритм</strong> (gamification/buddy.py), который парит пользователей по схожести. Это <strong>готовый паттерн для job matching</strong> — расширяем similarity_score() с учётом навыков, зарплаты, локации. Не пишем matching с нуля — расширяем существующий.</p>
  </div>
</section>

<!-- SECTION 2: THE 5-SPRINT PLAN -->
<section>
  <span class="sl v">02 / План: 5 спринтов</span>
  <h2>Каждый спринт = 3-4 часа кодинга</h2>
  <p>Реалистичная разбивка. Каждый спринт имеет конкретные файлы, SQL, endpoints и deliverable. Спринт 1 можно запустить сегодня.</p>

  <!-- SPRINT 1 -->
  <div class="sprint s1">
    <div class="sprint-header" onclick="toggleSprint(this)">
      <div>
        <div class="sprint-num" style="color: var(--emerald-600);">Sprint 1 — День 1</div>
        <div class="sprint-title">Matchable: Ядро matching engine</div>
      </div>
      <div class="sprint-meta">
        <span>3-4 часа</span>
        <span>Opus 4.6</span>
        <span>$0 доп. расходов</span>
      </div>
    </div>
    <div class="sprint-body">
      <p style="font-size: 0.9rem; color: var(--stone-600); margin: 1rem 0;">Минимальный matching: 2 новые таблицы, TF-IDF алгоритм, 3 команды бота. Пользователь вводит навыки → получает топ-5 вакансий с match score.</p>

      <h4 style="margin: 1.25rem 0 0.5rem;">База данных</h4>
      <div class="code-block">
<span class="comment">-- Добавляем в существующую PostgreSQL (sborka-career-bot)</span>

<span class="keyword">CREATE TABLE</span> jobs (
    id <span class="keyword">SERIAL PRIMARY KEY</span>,
    source <span class="keyword">VARCHAR</span>(50) <span class="keyword">DEFAULT</span> <span class="string">'manual'</span>,  <span class="comment">-- manual / hh_ru / telegram</span>
    source_id <span class="keyword">VARCHAR</span>(100),           <span class="comment">-- ID на источнике (hh.ru vacancy_id)</span>
    company_name <span class="keyword">VARCHAR</span>(200),
    title <span class="keyword">VARCHAR</span>(300) <span class="keyword">NOT NULL</span>,
    description <span class="keyword">TEXT</span>,
    skills <span class="keyword">TEXT</span>[],
    salary_min <span class="keyword">INTEGER</span>,
    salary_max <span class="keyword">INTEGER</span>,
    location <span class="keyword">VARCHAR</span>(200),
    url <span class="keyword">VARCHAR</span>(500),               <span class="comment">-- ссылка на оригинал</span>
    is_active <span class="keyword">BOOLEAN DEFAULT TRUE</span>,
    created_at <span class="keyword">TIMESTAMP DEFAULT NOW</span>()
);

<span class="keyword">CREATE TABLE</span> matches (
    id <span class="keyword">SERIAL PRIMARY KEY</span>,
    job_id <span class="keyword">INTEGER REFERENCES</span> jobs(id),
    user_id <span class="keyword">BIGINT REFERENCES</span> users(telegram_id),
    score <span class="keyword">FLOAT NOT NULL</span>,
    status <span class="keyword">VARCHAR</span>(30) <span class="keyword">DEFAULT</span> <span class="string">'sent'</span>,  <span class="comment">-- sent/interested/applied/rejected</span>
    created_at <span class="keyword">TIMESTAMP DEFAULT NOW</span>(),
    <span class="keyword">UNIQUE</span>(job_id, user_id)
);

<span class="keyword">CREATE INDEX</span> idx_jobs_skills <span class="keyword">ON</span> jobs <span class="keyword">USING GIN</span>(skills);
<span class="keyword">CREATE INDEX</span> idx_matches_user <span class="keyword">ON</span> matches(user_id, score <span class="keyword">DESC</span>);
      </div>

      <h4 style="margin: 1.25rem 0 0.5rem;">Задачи</h4>
      <ul class="task-list">
        <li>Alembic миграция: 2 новые таблицы (jobs, matches) <span class="time">~15 мин</span> <span class="file">models/job.py</span></li>
        <li>SQLAlchemy модели: Job, Match <span class="time">~15 мин</span> <span class="file">models/job.py</span></li>
        <li>Matching engine: TF-IDF + skills overlap + salary fit <span class="time">~45 мин</span> <span class="file">matching/engine.py</span></li>
        <li>FastAPI endpoints: POST /jobs, GET /jobs, POST /match/{user_id} <span class="time">~30 мин</span> <span class="file">api/routes/jobs.py</span></li>
        <li>Telegram: /find_job (ввод навыков → показ матчей) <span class="time">~30 мин</span> <span class="file">bot/handlers/matching.py</span></li>
        <li>Telegram: /post_job (работодатель постит вакансию) <span class="time">~20 мин</span> <span class="file">bot/handlers/matching.py</span></li>
        <li>Telegram: inline-кнопки "Интересно" / "Пропустить" на матчах <span class="time">~15 мин</span></li>
        <li>Seed: 20 вакансий вручную из HH кэша <span class="time">~10 мин</span> <span class="file">scripts/seed_jobs.py</span></li>
        <li>Тесты: test_matching_engine.py (10 тестов) <span class="time">~20 мин</span> <span class="file">tests/test_matching.py</span></li>
        <li>Docker build + deploy RUVDS <span class="time">~15 мин</span></li>
      </ul>

      <h4 style="margin: 1.25rem 0 0.5rem;">Matching алгоритм (ядро)</h4>
      <div class="code-block">
<span class="keyword">from</span> sklearn.feature_extraction.text <span class="keyword">import</span> TfidfVectorizer
<span class="keyword">from</span> sklearn.metrics.pairwise <span class="keyword">import</span> cosine_similarity

<span class="keyword">def</span> compute_match(candidate_skills: list, candidate_salary: int,
                   job: dict) -> float:
    <span class="comment">"""Гибридный scoring: TF-IDF + skills + salary."""</span>
    <span class="comment"># 1. Text similarity (50%)</span>
    texts = [<span class="string">' '</span>.join(candidate_skills),
             f"<span class="string">{job['title']} {job['description']} {' '.join(job['skills'])}</span>"]
    tfidf = TfidfVectorizer(ngram_range=(1, 2))
    matrix = tfidf.fit_transform(texts)
    text_score = cosine_similarity(matrix[0:1], matrix[1:])[0][0]

    <span class="comment"># 2. Skills overlap (30%)</span>
    common = set(s.lower() <span class="keyword">for</span> s <span class="keyword">in</span> candidate_skills) & \
             set(s.lower() <span class="keyword">for</span> s <span class="keyword">in</span> job[<span class="string">'skills'</span>])
    skill_score = len(common) / max(len(job[<span class="string">'skills'</span>]), 1)

    <span class="comment"># 3. Salary fit (20%)</span>
    <span class="keyword">if</span> job[<span class="string">'salary_min'</span>] <span class="keyword">and</span> candidate_salary:
        <span class="keyword">if</span> job[<span class="string">'salary_min'</span>] <= candidate_salary <= job[<span class="string">'salary_max'</span>]:
            salary_score = 1.0
        <span class="keyword">else</span>:
            diff = min(abs(candidate_salary - job[<span class="string">'salary_min'</span>]),
                       abs(candidate_salary - job[<span class="string">'salary_max'</span>]))
            salary_score = max(0, 1 - diff / candidate_salary)
    <span class="keyword">else</span>:
        salary_score = 0.5

    <span class="keyword">return</span> round((text_score * 0.5 + skill_score * 0.3 + salary_score * 0.2) * 100, 1)
      </div>

      <div class="deliverable">
        <h5>Deliverable Sprint 1</h5>
        <p>Рабочий Telegram-бот: пользователь вводит навыки → получает топ-5 вакансий с % совпадения. Работодатель через /post_job добавляет вакансию. 20 seed-вакансий в системе. 10 новых тестов.</p>
      </div>
    </div>
  </div>

  <!-- SPRINT 2 -->
  <div class="sprint s2">
    <div class="sprint-header" onclick="toggleSprint(this)">
      <div>
        <div class="sprint-num" style="color: var(--amber-600);">Sprint 2 — День 2-3</div>
        <div class="sprint-title">Discoverable: HH.ru импорт + веб-каталог</div>
      </div>
      <div class="sprint-meta">
        <span>3-4 часа</span>
        <span>Opus 4.6</span>
        <span>$0 доп. расходов</span>
      </div>
    </div>
    <div class="sprint-body">
      <p style="font-size: 0.9rem; color: var(--stone-600); margin: 1rem 0;">Решаем cold start: автоимпорт 500+ вакансий из HH.ru API. Публичная страница вакансий на sborka.work с Schema.org JobPosting. Google for Jobs + GEO-оптимизация.</p>

      <ul class="task-list">
        <li>HH.ru API клиент: поиск вакансий по 15 ключевым запросам <span class="time">~30 мин</span> <span class="file">matching/hh_importer.py</span></li>
        <li>Cron-задача: ежедневный импорт + дедупликация по source_id <span class="time">~20 мин</span> <span class="file">matching/hh_importer.py</span></li>
        <li>Маппинг навыков: JSON-файл 200 IT-навыков с синонимами <span class="time">~20 мин</span> <span class="file">matching/skills_taxonomy.json</span></li>
        <li>Веб-страница /jobs на sborka.work (React компонент) <span class="time">~40 мин</span> <span class="file">sborka/src/pages/Jobs.tsx</span></li>
        <li>Schema.org JobPosting JSON-LD на каждой вакансии <span class="time">~15 мин</span></li>
        <li>Telegram-уведомления: "3 новых матча" при появлении релевантных <span class="time">~20 мин</span></li>
        <li>API endpoint: GET /api/jobs с фильтрами (skills, salary, location) <span class="time">~15 мин</span></li>
        <li>Sitemap обновление (добавить /jobs/* маршруты) <span class="time">~10 мин</span></li>
        <li>Тесты: hh_importer, skills_taxonomy (8 тестов) <span class="time">~15 мин</span></li>
        <li>Deploy: бот + сайт <span class="time">~15 мин</span></li>
      </ul>

      <div class="deliverable">
        <h5>Deliverable Sprint 2</h5>
        <p>500+ вакансий в системе (HH.ru импорт). Публичная страница sborka.work/jobs с Schema.org. Автоматические Telegram-нотификации при новых матчах. Google for Jobs индексация.</p>
      </div>

      <div class="revenue-box">
        <h5>Точка монетизации #1</h5>
        <p>CTA на каждой вакансии: "Хочешь подготовиться к собеседованию? → Карьерный клуб СБОРКА от 4 900 ₽". Конверсия 2-3% от органического трафика на /jobs → первые оплаты через существующий Tribute.</p>
      </div>
    </div>
  </div>

  <!-- SPRINT 3 -->
  <div class="sprint s3">
    <div class="sprint-header" onclick="toggleSprint(this)">
      <div>
        <div class="sprint-num" style="color: var(--violet-600);">Sprint 3 — День 4-5</div>
        <div class="sprint-title">Intelligent: Резюме + семантический matching</div>
      </div>
      <div class="sprint-meta">
        <span>3-4 часа</span>
        <span>Opus 4.6</span>
        <span>$0 доп. расходов</span>
      </div>
    </div>
    <div class="sprint-body">
      <p style="font-size: 0.9rem; color: var(--stone-600); margin: 1rem 0;">Приём резюме через бот (текст / PDF). Улучшение matching: sentence-transformers для семантики. AI-ревью резюме как freemium-тул.</p>

      <ul class="task-list">
        <li>Приём резюме в боте: /submit_resume (текст или PDF) <span class="time">~30 мин</span> <span class="file">bot/handlers/resume.py</span></li>
        <li>PDF-парсинг: pyresparser или простой PyPDF2 + текстовый анализ <span class="time">~25 мин</span> <span class="file">matching/resume_parser.py</span></li>
        <li>Таблица resumes (user_id, raw_text, parsed_skills, parsed_salary) <span class="time">~15 мин</span> <span class="file">models/resume.py</span></li>
        <li>Улучшенный scoring: sentence-transformers (all-MiniLM-L6-v2, 80MB, CPU) <span class="time">~30 мин</span> <span class="file">matching/engine.py</span></li>
        <li>AI Resume Review: бесплатный базовый + платный детальный <span class="time">~25 мин</span> <span class="file">matching/resume_review.py</span></li>
        <li>Веб-форма "Загрузить резюме" на sborka.work <span class="time">~20 мин</span> <span class="file">sborka/src/pages/SubmitResume.tsx</span></li>
        <li>MCP: добавить match_resume и search_jobs тулы <span class="time">~20 мин</span> <span class="file">sborka-career-mcp/tools/</span></li>
        <li>Тесты: resume parsing, semantic matching (8 тестов) <span class="time">~15 мин</span></li>
      </ul>

      <div class="deliverable">
        <h5>Deliverable Sprint 3</h5>
        <p>Двусторонний маркетплейс: вакансии + резюме. Семантический matching понимает "data scientist" ≈ "ML engineer". AI-ревью резюме как lead magnet. 2 новых MCP-тула.</p>
      </div>

      <div class="revenue-box">
        <h5>Точка монетизации #2</h5>
        <p>AI Resume Review: базовый (score + 3 совета) бесплатно. Детальный (20+ рекомендаций, переписывание summary) = 990 ₽ разово или включён в СТАРТ (4 900 ₽/мес). Конверсия: каждый 5-й загрузивший резюме покупает детальный ревью.</p>
      </div>
    </div>
  </div>

  <!-- SPRINT 4 -->
  <div class="sprint s4">
    <div class="sprint-header" onclick="toggleSprint(this)">
      <div>
        <div class="sprint-num" style="color: var(--blue-600);">Sprint 4 — Неделя 2</div>
        <div class="sprint-title">Monetizable: Работодатели + платные фичи</div>
      </div>
      <div class="sprint-meta">
        <span>3-4 часа</span>
        <span>Opus 4.6</span>
        <span>Первые прямые продажи</span>
      </div>
    </div>
    <div class="sprint-body">
      <p style="font-size: 0.9rem; color: var(--stone-600); margin: 1rem 0;">Работодательская сторона: дашборд, просмотр кандидатов, promoted вакансии. Cold outreach к 50 HR-менеджерам.</p>

      <ul class="task-list">
        <li>Employer registration flow: /register_employer в боте <span class="time">~25 мин</span> <span class="file">bot/handlers/employer.py</span></li>
        <li>Таблица employers (company_name, contact, plan, is_verified) <span class="time">~10 мин</span> <span class="file">models/employer.py</span></li>
        <li>Employer dashboard: мои вакансии + кандидаты + match scores <span class="time">~40 мин</span> <span class="file">api/routes/employer.py</span></li>
        <li>Promoted vacancy: флаг is_promoted + сортировка выше <span class="time">~15 мин</span></li>
        <li>Оплата promoted: 2 000 ₽/вакансия через Tribute <span class="time">~20 мин</span></li>
        <li>Status tracking: matched → applied → reviewed → interview → hired <span class="time">~20 мин</span></li>
        <li>Telegram: уведомления работодателю о новых кандидатах <span class="time">~15 мин</span></li>
        <li>Cold outreach шаблон: 50 HR через LinkedIn/Telegram <span class="time">~20 мин</span> <span class="file">scripts/outreach_template.md</span></li>
        <li>Тесты: employer flow (6 тестов) <span class="time">~15 мин</span></li>
      </ul>

      <div class="deliverable">
        <h5>Deliverable Sprint 4</h5>
        <p>Полноценный двусторонний маркетплейс. Работодатель регистрируется → постит вакансию → видит кандидатов с score → приглашает. Promoted вакансии за 2 000 ₽. Cold outreach к 50 компаниям.</p>
      </div>

      <div class="revenue-box">
        <h5>Прогноз первого месяца</h5>
        <p>5 promoted вакансий × 2 000 ₽ = 10 000 ₽. 3 детальных ревью × 990 ₽ = 2 970 ₽. 2 подписки СТАРТ × 4 900 ₽ = 9 800 ₽. <strong>Итого: ~22 770 ₽ (~$250)</strong> при нулевых доп. затратах.</p>
      </div>
    </div>
  </div>

  <!-- SPRINT 5 -->
  <div class="sprint s5">
    <div class="sprint-header" onclick="toggleSprint(this)">
      <div>
        <div class="sprint-num" style="color: var(--rose-500);">Sprint 5 — Неделя 2-3</div>
        <div class="sprint-title">Scalable: Подписки + MCP + аналитика</div>
      </div>
      <div class="sprint-meta">
        <span>3-4 часа</span>
        <span>Opus 4.6</span>
        <span>Регулярный revenue</span>
      </div>
    </div>
    <div class="sprint-body">
      <p style="font-size: 0.9rem; color: var(--stone-600); margin: 1rem 0;">Подписочная модель для работодателей. Полный MCP с matching. Дашборд аналитики. Интеграция всех 150 статей с вакансиями.</p>

      <ul class="task-list">
        <li>Employer subscription: Бизнес 9 900 ₽/мес (безлимит + MCP) <span class="time">~25 мин</span></li>
        <li>MCP: 4 новых тула (search_jobs, match_resume, get_salary, career_advice) <span class="time">~30 мин</span> <span class="file">sborka-career-mcp/tools/</span></li>
        <li>Rate limiting MCP: free = 5 req/day, paid = unlimited <span class="time">~15 мин</span></li>
        <li>Analytics dashboard: matches/day, conversion, top skills, salary trends <span class="time">~30 мин</span> <span class="file">api/routes/analytics.py</span></li>
        <li>Статьи ↔ вакансии: deep links ("Python interview prep" → Python jobs) <span class="time">~20 мин</span></li>
        <li>Programmatic SEO: auto-generated "/jobs/python-developer-moscow" pages <span class="time">~25 мин</span></li>
        <li>Performance: Redis кэш для matching scores <span class="time">~15 мин</span></li>
        <li>Тесты: MCP, analytics, subscription (8 тестов) <span class="time">~15 мин</span></li>
        <li>Регистрация обновлённого MCP на Apify + Smithery <span class="time">~10 мин</span></li>
      </ul>

      <div class="deliverable">
        <h5>Deliverable Sprint 5 = V1.0</h5>
        <p>Полная платформа: matching, резюме, вакансии (500+ из HH), работодатели, подписки, MCP с 9 тулами, programmatic SEO, аналитика. Готов к масштабированию.</p>
      </div>

      <div class="revenue-box">
        <h5>Target к концу месяца 2</h5>
        <p>10 promoted вакансий (20K ₽) + 5 ревью (5K ₽) + 3 employer subs (30K ₽) + 5 career club (35K ₽) = <strong>~90 000 ₽/мес (~$1 000)</strong>. При 0 рекламных расходов.</p>
      </div>
    </div>
  </div>
</section>

<!-- SECTION 3: TIMELINE -->
<section>
  <span class="sl a">03 / Таймлайн</span>
  <h2>Когда что появляется</h2>
  <p>Визуальный roadmap. Зелёное — инфраструктура. Янтарное — контент и трафик. Фиолетовое — монетизация. Розовое — масштабирование.</p>

  <div class="timeline">
    <div class="tl-item">
      <div class="tl-dot e"></div>
      <div class="tl-label" style="color: var(--emerald-600);">День 1 (Sprint 1)</div>
      <div class="tl-title">Matching engine живой в Telegram</div>
      <div class="tl-desc">2 таблицы, TF-IDF + skills matching, /find_job и /post_job, 20 seed-вакансий</div>
    </div>
    <div class="tl-item">
      <div class="tl-dot e"></div>
      <div class="tl-label" style="color: var(--emerald-600);">День 2-3 (Sprint 2)</div>
      <div class="tl-title">500+ вакансий + sborka.work/jobs</div>
      <div class="tl-desc">HH.ru автоимпорт, публичная страница, Schema.org, Google for Jobs, нотификации</div>
    </div>
    <div class="tl-item">
      <div class="tl-dot a"></div>
      <div class="tl-label" style="color: var(--amber-600);">День 4-5 (Sprint 3)</div>
      <div class="tl-title">Резюме + AI ревью + 2 новых MCP-тула</div>
      <div class="tl-desc">Загрузка резюме, sentence-transformers, бесплатный/платный ревью, match_resume MCP</div>
    </div>
    <div class="tl-item">
      <div class="tl-dot v"></div>
      <div class="tl-label" style="color: var(--violet-600);">Неделя 2 (Sprint 4)</div>
      <div class="tl-title">Работодатели + первые деньги</div>
      <div class="tl-desc">Employer dashboard, promoted вакансии (2K ₽), cold outreach к 50 HR. Первый revenue.</div>
    </div>
    <div class="tl-item">
      <div class="tl-dot r"></div>
      <div class="tl-label" style="color: var(--rose-500);">Неделя 2-3 (Sprint 5)</div>
      <div class="tl-title">V1.0: Подписки + MCP + аналитика</div>
      <div class="tl-desc">Employer subs (9.9K ₽/мес), 9 MCP-тулов, programmatic SEO, analytics. Target: ~$1K MRR</div>
    </div>
  </div>
</section>

<!-- SECTION 4: COLD START -->
<section>
  <span class="sl b">04 / Cold Start решение</span>
  <h2>Откуда берутся вакансии и люди</h2>
  <p>Chicken-and-egg problem решается тремя тактиками: агрегация (supply), single-player tools (demand), контент-маховик (growth).</p>

  <div class="grid-3">
    <div class="card" style="border-top: 4px solid var(--emerald-500);">
      <h4>Supply: Агрегация</h4>
      <p style="margin-bottom: 0.75rem;">500+ вакансий с Day 2 без единого работодателя.</p>
      <ul style="list-style: none; padding: 0; font-size: 0.82rem; color: var(--stone-600);">
        <li style="padding: 0.2rem 0;">&#8226; HH.ru API: 15 запросов × до 2 000 вакансий</li>
        <li style="padding: 0.2rem 0;">&#8226; Ежедневный cron: синхронизация + дедупликация</li>
        <li style="padding: 0.2rem 0;">&#8226; Атрибуция: "Вакансия с HH.ru" + link back</li>
        <li style="padding: 0.2rem 0;">&#8226; Добавленная ценность: match score + salary context</li>
      </ul>
    </div>
    <div class="card" style="border-top: 4px solid var(--amber-500);">
      <h4>Demand: Single-player tools</h4>
      <p style="margin-bottom: 0.75rem;">"Приди ради инструмента, останься ради сети".</p>
      <ul style="list-style: none; padding: 0; font-size: 0.82rem; color: var(--stone-600);">
        <li style="padding: 0.2rem 0;">&#8226; AI Resume Review (бесплатный базовый)</li>
        <li style="padding: 0.2rem 0;">&#8226; Зарплатный калькулятор (HH.ru данные)</li>
        <li style="padding: 0.2rem 0;">&#8226; Career Health Check (квиз + рекомендации)</li>
        <li style="padding: 0.2rem 0;">&#8226; 150 SEO-статей с CTA на matching</li>
      </ul>
    </div>
    <div class="card" style="border-top: 4px solid var(--violet-500);">
      <h4>Growth: Контент-маховик</h4>
      <p style="margin-bottom: 0.75rem;">Органический рост через SEO + GEO + MCP.</p>
      <ul style="list-style: none; padding: 0; font-size: 0.82rem; color: var(--stone-600);">
        <li style="padding: 0.2rem 0;">&#8226; Programmatic SEO: /jobs/python-moscow</li>
        <li style="padding: 0.2rem 0;">&#8226; Schema.org JobPosting → Google for Jobs</li>
        <li style="padding: 0.2rem 0;">&#8226; MCP → AI-агенты ищут через нас</li>
        <li style="padding: 0.2rem 0;">&#8226; GEO: зарплатные страницы = LLM-бейт</li>
      </ul>
    </div>
  </div>
</section>

<!-- SECTION 5: ECONOMICS -->
<section>
  <span class="sl r">05 / Экономика</span>
  <h2>Revenue потоки</h2>
  <p>4 revenue stream'а, от самого быстрого к самому масштабному. Первые деньги — на Sprint 2 (карьерный клуб upsell), регулярные — с Sprint 4.</p>

  <div class="table-wrapper">
    <table>
      <thead><tr><th>Stream</th><th>Когда</th><th>Кто платит</th><th>Цена</th><th>Объём (мес 2)</th><th>Revenue</th></tr></thead>
      <tbody>
        <tr>
          <td><strong>Карьерный клуб</strong></td>
          <td><span class="tag g">Sprint 2</span></td>
          <td>Соискатели</td>
          <td>4 900 — 15 900 ₽/мес</td>
          <td>5 подписок</td>
          <td class="mono">~35 000 ₽</td>
        </tr>
        <tr>
          <td><strong>AI Resume Review</strong></td>
          <td><span class="tag a">Sprint 3</span></td>
          <td>Соискатели</td>
          <td>990 ₽ разово</td>
          <td>10 ревью</td>
          <td class="mono">~10 000 ₽</td>
        </tr>
        <tr>
          <td><strong>Promoted вакансии</strong></td>
          <td><span class="tag v">Sprint 4</span></td>
          <td>Работодатели</td>
          <td>2 000 ₽/вакансия</td>
          <td>10 promoted</td>
          <td class="mono">~20 000 ₽</td>
        </tr>
        <tr>
          <td><strong>Employer подписка</strong></td>
          <td><span class="tag b">Sprint 5</span></td>
          <td>Работодатели</td>
          <td>9 900 ₽/мес</td>
          <td>3 подписки</td>
          <td class="mono">~30 000 ₽</td>
        </tr>
        <tr style="background: var(--amber-100);">
          <td colspan="5"><strong>Итого (месяц 2)</strong></td>
          <td class="mono" style="font-weight: 700; color: var(--emerald-700);">~95 000 ₽ ($1 050)</td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="insight">
    <h3>Масштабирование через клуб</h3>
    <p>Главный insight: <strong>matching engine — это воронка для карьерного клуба</strong>. Каждый, кто ищет работу через СБОРКУ, видит: "Хочешь подготовиться к собеседованию в Тинькофф? Карьерный клуб — 4 900 ₽/мес". Matching генерирует intent, клуб монетизирует intent. Работодатели — второй поток, но клуб масштабируется быстрее (не нужен sales team).</p>
  </div>
</section>

<!-- SECTION 6: SKILLS & TOOLS -->
<section>
  <span class="sl e">06 / Скиллы и инструменты</span>
  <h2>Что ускоряет разработку</h2>
  <p>Проверенные Claude Code скиллы и open-source инструменты для каждой фазы. Результат исследования aitmpl.com, skillsmp.com и GitHub.</p>

  <div class="table-wrapper">
    <table>
      <thead><tr><th>Sprint</th><th>Скилл / Инструмент</th><th>Источник</th><th>Что даёт</th></tr></thead>
      <tbody>
        <tr>
          <td rowspan="3"><span class="tag g">S1</span></td>
          <td>fastapi-expert</td><td>Jeffallan/claude-skills</td><td>FastAPI паттерны, async, DI, error handling</td>
        </tr>
        <tr><td>postgres-pro</td><td>Jeffallan/claude-skills</td><td>Schema design, indexes, GIN arrays</td></tr>
        <tr><td>domain-driven-design</td><td>antigravity-skills</td><td>Моделирование Job, Candidate, Match</td></tr>
        <tr>
          <td rowspan="3"><span class="tag a">S2</span></td>
          <td>schema-markup</td><td>coreyhaines31/marketingskills</td><td>JobPosting structured data</td>
        </tr>
        <tr><td>programmatic-seo</td><td>coreyhaines31/marketingskills</td><td>Auto-generated job pages</td></tr>
        <tr><td>parse-hh-data (PyPI)</td><td>PyPI</td><td>HH.ru API парсинг</td></tr>
        <tr>
          <td rowspan="3"><span class="tag v">S3</span></td>
          <td>proficiently-claude-skills</td><td>proficientlyjobs/</td><td>Job search + resume analysis patterns</td>
        </tr>
        <tr><td>pyresparser</td><td>PyPI</td><td>Resume PDF → skills extraction</td></tr>
        <tr><td>all-MiniLM-L6-v2</td><td>HuggingFace</td><td>Semantic matching (80MB, CPU)</td></tr>
        <tr>
          <td rowspan="2"><span class="tag b">S4</span></td>
          <td>cold-email</td><td>coreyhaines31/marketingskills</td><td>B2B outreach templates</td>
        </tr>
        <tr><td>pricing-strategy</td><td>coreyhaines31/marketingskills</td><td>Pricing model optimization</td></tr>
        <tr>
          <td rowspan="2"><span class="tag r">S5</span></td>
          <td>ai-seo</td><td>coreyhaines31/marketingskills</td><td>LLM/GEO optimization</td>
        </tr>
        <tr><td>mcp-builder</td><td>jezweb/claude-skills</td><td>MCP server development</td></tr>
      </tbody>
    </table>
  </div>

  <h3 style="margin: 2rem 0 1rem;">Open Source для reference</h3>
  <div class="grid-2">
    <div class="card">
      <h4>nofoobar/JobBoard-Fastapi</h4>
      <p>FastAPI job board с auth, CRUD, PostgreSQL. ~300 stars. Лучший стартовый reference для API-дизайна. <strong>Не форкать</strong> — у нас база зрелее.</p>
    </div>
    <div class="card">
      <h4>sentence-transformers</h4>
      <p>all-MiniLM-L6-v2: 80MB, CPU-only, понимает семантику. "Data scientist" ≈ "ML engineer". Ставится за 30 секунд через pip.</p>
    </div>
  </div>
</section>

<!-- SECTION 7: WHAT THIS DOC IS FOR -->
<section>
  <span class="sl v">07 / Как использовать этот документ</span>
  <h2>Отправная точка для всего</h2>
  <p>Этот roadmap — не одноразовый план. Это живой reference, к которому мы возвращаемся при каждом спринте.</p>

  <div class="grid-2">
    <div class="card" style="border-left: 4px solid var(--emerald-500);">
      <h4>Перед каждым спринтом</h4>
      <p>Открываем этот документ → находим текущий Sprint → берём task list → каждая задача становится промптом для Opus 4.6. Файлы указаны, время оценено, deliverable ясен.</p>
    </div>
    <div class="card" style="border-left: 4px solid var(--amber-500);">
      <h4>Для ТЗ и спецификаций</h4>
      <p>Каждый Sprint → ТЗ для Claude Code. Формат: "Создай [файл] с [функционалом]. Контекст: [схема из Sprint]. Тесты: [X штук]. Deploy: Docker на RUVDS."</p>
    </div>
    <div class="card" style="border-left: 4px solid var(--violet-500);">
      <h4>Для оценки прогресса</h4>
      <p>Галочки в task list = прогресс. Deliverable в конце каждого Sprint = checkpoint. Revenue box = target для сверки.</p>
    </div>
    <div class="card" style="border-left: 4px solid var(--rose-500);">
      <h4>Для приоритизации</h4>
      <p>Если времени мало — Sprint 1 и 2 дают 90% ценности. Sprint 3-5 — масштабирование. Каждый Sprint самодостаточен и деливерит работающий продукт.</p>
    </div>
  </div>

  <div class="insight">
    <h3>V1 → V2: Что изменилось</h3>
    <p>V1 (страница Ревью) давал <strong>общие фазы по месяцам</strong> без конкретики. V2 даёт: <strong>конкретные файлы</strong>, <strong>SQL-схемы</strong>, <strong>код matching engine</strong>, <strong>минуты на каждую задачу</strong>, <strong>revenue target на каждый sprint</strong>. Это не план-мечта — это план-инструкция, которую можно открыть в Claude Code и начать выполнять прямо сейчас.</p>
  </div>
</section>

<footer>
  <span>СБОРКА Matching Engine — Roadmap V2 — Feb 2026</span>
  <span class="mono" style="font-size: 0.75rem;">sborka.work</span>
</footer>

<script>
function toggleSprint(header) {
  const body = header.nextElementSibling;
  body.classList.toggle('collapsed');
}
</script>

</body>
</html>